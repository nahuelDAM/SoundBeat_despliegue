import{a as X}from"./chunk-OKPHUPZE.js";import{a as Q}from"./chunk-7RXKWNF4.js";import"./chunk-BNQ67AVA.js";import{$a as N,Aa as y,Bb as F,F as r,Fc as H,Ga as I,H as f,J as v,Jb as W,La as q,Lc as J,M as k,O as a,Oa as S,Pa as T,Q as b,Ra as E,S as o,Sb as j,T as i,Ta as V,Tc as K,U as h,Ua as D,Ub as L,Y as x,Z as _,Za as B,ab as z,ga as d,hc as U,ia as O,la as C,ma as M,na as P,rc as R,v as l,w as m,wc as A,xa as w,yc as G}from"./chunk-XCE7OHUN.js";import"./chunk-CKJMNUPD.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function Y(u,s){u&1&&h(0,"ion-icon",18)}var fe=(()=>{let s=class s{constructor(n,t,e){this.router=n,this.themeService=t,this.paqueteService=e,this.usuarioId=this.getIdUser(),this.nombre="",this.descripcion="",this.darkMode=!1,this.loading=!1,this.isToastOpen=!1,this.toastMessage="",this.toastColor="success",this.subscriptions=[],A({folderOutline:K,checkmarkOutline:H,closeOutline:J,arrowBackOutline:G})}ngOnInit(){let n=this.themeService.isDarkMode().subscribe(t=>{this.darkMode=t});this.subscriptions.push(n)}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}goBack(){this.router.navigate(["/menu/biblioteca"])}crearPaquete(){if(!this.nombre.trim()){this.showToast("El nombre del paquete es requerido","danger");return}this.loading=!0;let n={nombre:this.nombre.trim(),descripcion:this.descripcion.trim()||void 0,usuarioId:this.usuarioId};this.paqueteService.crearPaquete(n).subscribe({next:t=>{this.loading=!1,this.showToast("Paquete creado exitosamente","success"),setTimeout(()=>{this.router.navigate(["/menu/biblioteca"])},1500)},error:t=>{this.loading=!1,console.error("Error al crear paquete:",t),this.showToast("Error al crear el paquete","danger")}})}showToast(n,t){this.toastMessage=n,this.toastColor=t,this.isToastOpen=!0}onToastDismiss(){this.isToastOpen=!1}getIdUser(){return parseInt(localStorage.getItem("idUsuario")||"")}};s.\u0275fac=function(t){return new(t||s)(f(I),f(Q),f(X))},s.\u0275cmp=v({type:s,selectors:[["app-crear-paquete"]],decls:28,vars:19,consts:[["paqueteForm","ngForm"],["id","main-content","no-focus-autoscroll","",3,"fullscreen"],[1,"content-container"],[1,"form-container"],[1,"form-header"],[1,"form-icon"],["name","folder-outline"],[3,"ngSubmit"],["position","stacked"],["ngDefaultControl","","name","nombre","placeholder","Ej: Mis beats favoritos","required","","maxlength","100",3,"ngModelChange","ngModel","disabled"],[1,"modern-input"],["ngDefaultControl","","name","descripcion","placeholder","Describe tu paquete...","rows","3","maxlength","500",1,"native-description-textarea",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["expand","block","type","submit",1,"create-button",3,"disabled"],["name","checkmark-outline","slot","start",4,"ngIf"],["expand","block","fill","outline",1,"cancel-button",3,"click","disabled"],["name","close-outline","slot","start"],["position","top",3,"didDismiss","isOpen","message","duration","color"],["name","checkmark-outline","slot","start"]],template:function(t,e){if(t&1){let p=x();o(0,"ion-content",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),h(5,"ion-icon",6),i(),o(6,"h1"),d(7,"Nuevo Paquete"),i(),o(8,"p"),d(9,"Crea un paquete para organizar tus samples favoritos"),i()(),o(10,"form",7,0),_("ngSubmit",function(){return l(p),m(e.crearPaquete())}),o(12,"ion-item")(13,"ion-label",8),d(14,"Nombre del paquete *"),i(),o(15,"ion-input",9),P("ngModelChange",function(c){return l(p),M(e.nombre,c)||(e.nombre=c),m(c)}),i()(),o(16,"ion-item",10)(17,"ion-label",8),d(18,"Descripci\xF3n (opcional)"),i(),o(19,"textarea",11),P("ngModelChange",function(c){return l(p),M(e.descripcion,c)||(e.descripcion=c),m(c)}),i()(),o(20,"div",12)(21,"ion-button",13),k(22,Y,1,0,"ion-icon",14),d(23),i(),o(24,"ion-button",15),_("click",function(){return l(p),m(e.goBack())}),h(25,"ion-icon",16),d(26," Cancelar "),i()()()()(),o(27,"ion-toast",17),_("didDismiss",function(){return l(p),m(e.onToastDismiss())}),i()()}t&2&&(b("dark-mode",e.darkMode),a("fullscreen",!0),r(12),b("dark-mode",e.darkMode),r(3),C("ngModel",e.nombre),a("disabled",e.loading),r(),b("dark-mode",e.darkMode),r(3),C("ngModel",e.descripcion),a("disabled",e.loading),r(2),a("disabled",!e.nombre.trim()||e.loading),r(),a("ngIf",!e.loading),r(),O(" ",e.loading?"Creando...":"Crear Paquete"," "),r(),a("disabled",e.loading),r(3),a("isOpen",e.isToastOpen)("message",e.toastMessage)("duration",3e3)("color",e.toastColor))},dependencies:[U,F,L,j,R,W,y,w,z,D,q,S,T,B,N,V,E],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: var(--background-color);font-family:Poppins,sans-serif}.content-container[_ngcontent-%COMP%]{padding:20px;max-width:500px;margin:0 auto}.form-container[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:24px;box-shadow:0 4px 15px #0000000d}.native-description-textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:10px;border:1px solid var(--input-background);border-radius:16px;font-family:var(--ion-font-family, sans-serif);font-size:16px;line-height:1.5;color:var(--text-color);background:var(--input-background);resize:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-description-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--input-background)}.native-description-textarea[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}ion-item.modern-input.dark-mode[_ngcontent-%COMP%]{--border-color: var(--input-background)}body.dark-mode[_ngcontent-%COMP%]   .native-description-textarea[_ngcontent-%COMP%]{border-color:var(--input-background);background:var(--input-background);color:var(--input-text)}ion-item.dark-mode[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--text-color)!important}ion-item.dark-mode[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{color:var(--primary-color)!important}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--primary-color);display:flex;align-items:center;justify-content:center;margin:0 auto 20px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#fff}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 8px;color:var(--text-color)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--text-muted);margin:0}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--border-color);--color: var(--text-color);margin-bottom:16px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--text-color);font-weight:500}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--color: var(--text-color);--placeholder-color: var(--text-muted)}.form-actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{--background: var(--primary-color);--color: white;height:48px;font-weight:600}.form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--color: var(--text-muted);--border-color: var(--border-color);height:48px}[_nghost-%COMP%]{--background-color: #f5f5f5;--card-background: #ffffff;--text-color: #333333;--text-muted: #666666;--primary-color: #e491b4;--border-color: rgba(0, 0, 0, .1)}.dark-mode[_ngcontent-%COMP%]{--background-color: #121212;--card-background: #1e1e1e;--text-color: #ffffff;--text-muted: #aaaaaa;--border-color: rgba(255, 255, 255, .1)}']});let u=s;return u})();export{fe as CrearPaquetePage};
