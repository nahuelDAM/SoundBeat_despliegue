import{a as ee}from"./chunk-KGM6HUR6.js";import"./chunk-BNQ67AVA.js";import"./chunk-QMKYKK3D.js";import{a as $}from"./chunk-6BYM3NY5.js";import{A as i,C as h,Cb as R,E as k,Ea as S,Eb as A,H as v,Ha as I,Ia as T,J as a,Ka as E,L as f,M as t,Ma as V,N as n,Na as D,O as _,Pb as G,Qb as J,Rb as K,S as O,Sa as B,T as b,Ta as N,Ua as F,Yb as Q,aa as s,bc as U,ca as w,dc as X,ea as C,fa as P,ga as M,jc as Y,kb as W,oc as Z,q as d,qa as x,qb as j,r as m,rb as z,ta as q,ub as L,yb as H,za as y}from"./chunk-XHCDBZN6.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function te(p,c){p&1&&_(0,"ion-icon",19)}var pe=(()=>{let c=class c{constructor(r,o,e){this.router=r,this.themeService=o,this.paqueteService=e,this.usuarioId=1,this.nombre="",this.descripcion="",this.darkMode=!1,this.loading=!1,this.isToastOpen=!1,this.toastMessage="",this.toastColor="success",this.subscriptions=[],U({arrowBackOutline:X,checkmarkOutline:Y,closeOutline:Z})}ngOnInit(){let r=this.themeService.isDarkMode().subscribe(o=>{this.darkMode=o});this.subscriptions.push(r)}ngOnDestroy(){this.subscriptions.forEach(r=>r.unsubscribe())}goBack(){this.router.navigate(["/menu/biblioteca"])}crearPaquete(){if(!this.nombre.trim()){this.showToast("El nombre del paquete es requerido","danger");return}this.loading=!0;let r={nombre:this.nombre.trim(),descripcion:this.descripcion.trim()||void 0,usuarioId:this.usuarioId};this.paqueteService.crearPaquete(r).subscribe({next:o=>{this.loading=!1,this.showToast("Paquete creado exitosamente","success"),setTimeout(()=>{this.router.navigate(["/menu/biblioteca"])},1500)},error:o=>{this.loading=!1,console.error("Error al crear paquete:",o),this.showToast("Error al crear el paquete","danger")}})}showToast(r,o){this.toastMessage=r,this.toastColor=o,this.isToastOpen=!0}onToastDismiss(){this.isToastOpen=!1}};c.\u0275fac=function(o){return new(o||c)(h(y),h($),h(ee))},c.\u0275cmp=k({type:c,selectors:[["app-crear-paquete"]],decls:34,vars:21,consts:[["paqueteForm","ngForm"],["slot","start"],["defaultHref","/menu/biblioteca",3,"click"],["id","main-content",3,"fullscreen"],[1,"content-container"],[1,"form-container"],[1,"form-header"],[1,"form-icon"],["name","folder-outline"],[3,"ngSubmit"],["position","stacked"],["ngDefaultControl","","name","nombre","placeholder","Ej: Mis beats favoritos","required","","maxlength","100",3,"ngModelChange","ngModel","disabled"],["ngDefaultControl","","name","descripcion","placeholder","Describe tu paquete...","rows","3","maxlength","500",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["expand","block","type","submit",1,"create-button",3,"disabled"],["name","checkmark-outline","slot","start",4,"ngIf"],["expand","block","fill","outline",1,"cancel-button",3,"click","disabled"],["name","close-outline","slot","start"],["position","top",3,"didDismiss","isOpen","message","duration","color"],["name","checkmark-outline","slot","start"]],template:function(o,e){if(o&1){let u=O();t(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-back-button",2),b("click",function(){return d(u),m(e.goBack())}),n()(),t(4,"ion-title"),s(5,"Crear Paquete"),n()()(),t(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),_(11,"ion-icon",8),n(),t(12,"h1"),s(13,"Nuevo Paquete"),n(),t(14,"p"),s(15,"Crea un paquete para organizar tus samples favoritos"),n()(),t(16,"form",9,0),b("ngSubmit",function(){return d(u),m(e.crearPaquete())}),t(18,"ion-item")(19,"ion-label",10),s(20,"Nombre del paquete *"),n(),t(21,"ion-input",11),M("ngModelChange",function(l){return d(u),P(e.nombre,l)||(e.nombre=l),m(l)}),n()(),t(22,"ion-item")(23,"ion-label",10),s(24,"Descripci\xF3n (opcional)"),n(),t(25,"ion-textarea",12),M("ngModelChange",function(l){return d(u),P(e.descripcion,l)||(e.descripcion=l),m(l)}),n()(),t(26,"div",13)(27,"ion-button",14),v(28,te,1,0,"ion-icon",15),s(29),n(),t(30,"ion-button",16),b("click",function(){return d(u),m(e.goBack())}),_(31,"ion-icon",17),s(32," Cancelar "),n()()()()(),t(33,"ion-toast",18),b("didDismiss",function(){return d(u),m(e.onToastDismiss())}),n()()}o&2&&(i(),f("dark-mode",e.darkMode),i(5),f("dark-mode",e.darkMode),a("fullscreen",!0),i(12),f("dark-mode",e.darkMode),i(3),C("ngModel",e.nombre),a("disabled",e.loading),i(),f("dark-mode",e.darkMode),i(3),C("ngModel",e.descripcion),a("disabled",e.loading),i(2),a("disabled",!e.nombre.trim()||e.loading),i(),a("ngIf",!e.loading),i(),w(" ",e.loading?"Creando...":"Crear Paquete"," "),i(),a("disabled",e.loading),i(3),a("isOpen",e.isToastOpen)("message",e.toastMessage)("duration",3e3)("color",e.toastColor))},dependencies:[J,j,A,R,Q,W,z,L,H,G,K,q,x,F,D,S,I,T,B,N,V,E],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--background-color);font-family:Poppins,sans-serif}.content-container[_ngcontent-%COMP%]{padding:20px;max-width:500px;margin:0 auto}.form-container[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:24px;box-shadow:0 4px 15px #0000000d}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--primary-color);display:flex;align-items:center;justify-content:center;margin:0 auto 20px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#fff}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 8px;color:var(--text-color)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--text-muted);margin:0}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--border-color);--color: var(--text-color);margin-bottom:16px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--text-color);font-weight:500}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--color: var(--text-color);--placeholder-color: var(--text-muted)}.form-actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{--background: var(--primary-color);--color: white;height:48px;font-weight:600}.form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--color: var(--text-muted);--border-color: var(--border-color);height:48px}[_nghost-%COMP%]{--background-color: #f5f5f5;--card-background: #ffffff;--text-color: #333333;--text-muted: #666666;--primary-color: #e491b4;--border-color: rgba(0, 0, 0, .1)}.dark-mode[_ngcontent-%COMP%]{--background-color: #121212;--card-background: #1e1e1e;--text-color: #ffffff;--text-muted: #aaaaaa;--border-color: rgba(255, 255, 255, .1)}"]});let p=c;return p})();export{pe as CrearPaquetePage};
