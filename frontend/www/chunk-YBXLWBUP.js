import{a as re,b as ie}from"./chunk-QCXH3TOP.js";import"./chunk-BNQ67AVA.js";import{a as oe}from"./chunk-OMY72RSB.js";import"./chunk-QMKYKK3D.js";import{a as te}from"./chunk-6BYM3NY5.js";import{$b as J,A as a,C,Cc as Z,E as v,Ea as B,Eb as Y,Ec as $,H as u,Ha as F,I as M,J as s,K as O,Kb as W,L as b,Lb as R,M as n,Ma as q,N as t,O as d,Pc as ee,S as P,T as h,U as f,Ua as j,Uc as ne,Yb as U,_b as H,aa as m,ba as k,bc as K,ca as y,ea as w,ec as Q,fa as I,fc as X,ga as S,o as p,pa as z,q as x,qa as E,r as _,sb as G,ta as T,tb as N,ub as A,xb as L,yb as V,za as D}from"./chunk-XHCDBZN6.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function ce(c,r){if(c&1){let l=P();n(0,"ion-col",10)(1,"div",11)(2,"ion-card",12),h("click",function(){let i=x(l).$implicit,o=f();return _(o.navigateToDetail(i.id))}),d(3,"div",13)(4,"div",14),n(5,"div",15)(6,"div",16)(7,"h3",17),m(8),t()(),n(9,"div",18),d(10,"div",19),t()(),d(11,"div",20),t()()()}if(c&2){let l=r.$implicit,e=r.index;a(),O("animation-delay",e*.05+"s"),b("animate-in",!0),a(),M("data-index",e%5),a(6),k(l.nombre)}}function se(c,r){if(c&1&&(n(0,"div",21)(1,"div",22),d(2,"ion-icon",23),t(),n(3,"p"),m(4),t()()),c&2){let l=f();a(4),y('No se encontraron resultados para "',l.busqueda,'"')}}var ke=(()=>{let r=class r{constructor(e){this.themeService=e,this.generoService=p(re),this.instrumentoService=p(ie),this.router=p(D),this.darkMode=!1,this.busqueda="",this.activeCategory="genres",this.generos=[],this.instrumentos=[],K({arrowForward:Q,moonOutline:Z,sunnyOutline:ne,searchOutline:ee,arrowForwardOutline:X,musicalNotesOutline:$})}ngOnDestroy(){this.themeSubscription&&this.themeSubscription.unsubscribe()}ngOnInit(){this.obtenerGeneros(),this.obtenerInstrumentos(),this.themeSubscription=this.themeService.isDarkMode().subscribe(e=>{this.darkMode=e})}toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("darkMode",this.darkMode.toString())}getActiveItems(){let e=this.activeCategory==="genres"?this.generos:this.instrumentos;return this.busqueda?e.filter(i=>i.nombre.toLowerCase().includes(this.busqueda.toLowerCase())):e}cambiarCategoria(e){this.activeCategory=e.detail.value}navigateToDetail(e){let i=this.activeCategory==="genres"?"genre":"instrument";this.router.navigate(["/menu/resultados",i,e])}onDarkModeChange(e){this.darkMode=e,localStorage.setItem("darkMode",this.darkMode.toString())}obtenerGeneros(){this.generoService.obtenerGeneros().subscribe({next:e=>{this.generos=e},error:e=>{console.error("Error al obtener los g\xE9neros:",e)}})}obtenerInstrumentos(){this.instrumentoService.obtenerInstrumentos().subscribe({next:e=>{this.instrumentos=e},error:e=>{console.error("Error al obtener los instrumentos:",e)}})}};r.\u0275fac=function(i){return new(i||r)(C(te))},r.\u0275cmp=v({type:r,selectors:[["app-buscador"]],decls:18,vars:10,consts:[["id","main-content",3,"fullscreen"],[1,"content-container"],[1,"segment-container"],["color","primary",3,"ionChange","value"],["value","genres"],["value","instruments"],[1,"search-container"],["ngDefaultControl","",3,"ngModelChange","placeholder","ngModel","animated","debounce"],["size","6",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["size","6"],[1,"card-wrapper"],[1,"item-card",3,"click"],[1,"card-background"],[1,"card-overlay"],[1,"card-content"],[1,"item-name-container"],[1,"item-name"],[1,"card-decoration"],[1,"decoration-circle"],[1,"card-shine"],[1,"no-results"],[1,"no-results-icon"],["name","search-outline"]],template:function(i,o){i&1&&(n(0,"ion-header"),d(1,"app-cabecera"),t(),n(2,"ion-content",0)(3,"div",1)(4,"div",2)(5,"ion-segment",3),h("ionChange",function(g){return o.cambiarCategoria(g)}),n(6,"ion-segment-button",4)(7,"ion-label"),m(8,"G\xE9neros"),t()(),n(9,"ion-segment-button",5)(10,"ion-label"),m(11,"Instrumentos"),t()()()(),n(12,"div",6)(13,"ion-searchbar",7),S("ngModelChange",function(g){return I(o.busqueda,g)||(o.busqueda=g),g}),t()(),n(14,"ion-grid")(15,"ion-row"),u(16,ce,12,6,"ion-col",8),t()(),u(17,se,5,1,"div",9),t()()),i&2&&(a(2),b("dark-mode",o.darkMode),s("fullscreen",!0),a(3),s("value",o.activeCategory),a(8),s("placeholder","Buscar "+(o.activeCategory==="genres"?"g\xE9neros":"instrumentos")),w("ngModel",o.busqueda),s("animated",!0)("debounce",300),a(3),s("ngForOf",o.getActiveItems()),a(),s("ngIf",o.getActiveItems().length===0))},dependencies:[V,J,G,Y,R,H,L,W,N,U,A,T,z,E,j,B,F,q,oe],styles:['ion-content[_ngcontent-%COMP%]{--background: var(--background-color);font-family:Poppins,sans-serif;transition:all .3s ease}.theme-toggle[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;z-index:100;background-color:var(--card-background);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px #0000001a;cursor:pointer;transition:all .3s ease}.theme-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-color)}.content-container[_ngcontent-%COMP%]{padding:20px}.segment-container[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}ion-segment[_ngcontent-%COMP%]{--background: var(--card-background);border-radius:50px;--indicator-color: var(--primary-color);box-shadow:0 2px 10px #0000000d}ion-segment-button[_ngcontent-%COMP%]{--color: var(--text-color);--color-checked: white;--indicator-height: 100%;--indicator-box-shadow: none;--indicator-transform: none;--border-radius: 50px;--background-checked: var(--primary-color);--transition: color .3s ease, background-color .3s ease;min-height:40px;font-weight:500;text-transform:none}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}ion-searchbar[_ngcontent-%COMP%]{--background: var(--card-background);--color: var(--text-color);--placeholder-color: var(--input-placeholder);--icon-color: var(--primary-color);--border-radius: 50px;--box-shadow: 0 2px 10px rgba(0, 0, 0, .05);padding:0}.card-wrapper[_ngcontent-%COMP%]{padding:0;margin:0;height:100%}ion-card[_ngcontent-%COMP%]{height:130px;position:relative;overflow:hidden;margin:8px;border-radius:18px;box-shadow:0 10px 25px #00000014;background:transparent;transition:all .4s cubic-bezier(.175,.885,.32,1.275);border:none}ion-card[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 5px 15px #0000001a}.card-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;transition:all .5s ease}ion-card[data-index="0"][_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e491b4,#f0a6c6)}ion-card[data-index="1"][_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d37a9e,#e491b4)}ion-card[data-index="2"][_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e491b4,#f5b6d6)}ion-card[data-index="3"][_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c56a8e,#e491b4)}ion-card[data-index="4"][_ngcontent-%COMP%]   .card-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e491b4,#d37a9e)}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#0000000d;z-index:2;opacity:0;transition:opacity .3s ease}ion-card[_ngcontent-%COMP%]:active   .card-overlay[_ngcontent-%COMP%]{opacity:1}.card-content[_ngcontent-%COMP%]{position:relative;z-index:3;display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:16px}.item-name-container[_ngcontent-%COMP%]{max-width:90%;position:relative;z-index:2}.item-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:18px;margin:0;text-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:1.3}.card-decoration[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;z-index:2}.decoration-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background:#fff3;position:relative;transition:all .3s ease}.decoration-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:10px;height:10px;border-radius:50%;background:#fff9;transition:all .3s ease}ion-card[_ngcontent-%COMP%]:active   .decoration-circle[_ngcontent-%COMP%]{transform:scale(1.2)}.card-shine[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(to bottom,#ffffff26,#fff0);z-index:2;border-radius:18px 18px 0 0;pointer-events:none}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.16,1,.3,1) forwards;opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (hover: hover){ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 15px 30px #00000026}ion-card[_ngcontent-%COMP%]:hover   .decoration-circle[_ngcontent-%COMP%]:after{width:12px;height:12px}ion-card[_ngcontent-%COMP%]:hover   .card-background[_ngcontent-%COMP%]{transform:scale(1.05)}}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--text-color);font-size:16px;opacity:.8;display:flex;flex-direction:column;align-items:center;justify-content:center}.no-results-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--card-background);display:flex;align-items:center;justify-content:center;margin-bottom:15px;box-shadow:0 5px 15px #00000014}.no-results-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--primary-color)}.dark-mode[_ngcontent-%COMP%]{--background-color: #121212;--card-background: #1e1e1e;--text-color: #ffffff;--input-background: #2d2d2d;--input-text: #ffffff;--input-placeholder: #9e9e9e;--card-shadow: 0 8px 20px rgba(0, 0, 0, .3)}.dark-mode[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{background:#2d2d2d}ion-grid[_ngcontent-%COMP%]{padding:0}ion-row[_ngcontent-%COMP%]{margin:0 -8px}ion-col[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}to{transform:scale(1);opacity:1}}ion-card[_ngcontent-%COMP%]:active   .decoration-circle[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_pulse .6s ease-out}']});let c=r;return c})();export{ke as BuscadorPage};
