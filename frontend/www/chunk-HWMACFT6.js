import{a as X}from"./chunk-SKABVRFD.js";import{a as Q}from"./chunk-XTSUAW32.js";import"./chunk-5NEJBAS5.js";import{D as r,Ea as q,Ec as H,F as f,H as v,Hb as j,Ja as y,K as O,Kc as J,M as a,Ma as S,Na as T,O as h,Pa as E,Q as o,Qb as z,R as i,Ra as V,S as b,Sa as D,Sb as L,Sc as K,W as k,X as _,Xa as B,Za as N,_a as F,ea as l,fc as U,ga as x,ja as C,ka as M,la as P,pc as R,t as d,u as m,va as w,vc as A,xc as G,ya as I,zb as W}from"./chunk-5RLBJS7C.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function Y(u,s){u&1&&b(0,"ion-icon",17)}var fe=(()=>{let s=class s{constructor(n,t,e){this.router=n,this.themeService=t,this.paqueteService=e,this.usuarioId=this.getIdUser(),this.nombre="",this.descripcion="",this.darkMode=!1,this.loading=!1,this.isToastOpen=!1,this.toastMessage="",this.toastColor="success",this.subscriptions=[],A({folderOutline:K,checkmarkOutline:H,closeOutline:J,arrowBackOutline:G})}ngOnInit(){let n=this.themeService.isDarkMode().subscribe(t=>{this.darkMode=t});this.subscriptions.push(n)}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}goBack(){this.router.navigate(["/menu/biblioteca"])}crearPaquete(){if(!this.nombre.trim()){this.showToast("El nombre del paquete es requerido","danger");return}this.loading=!0;let n={nombre:this.nombre.trim(),descripcion:this.descripcion.trim()||void 0,usuarioId:this.usuarioId};this.paqueteService.crearPaquete(n).subscribe({next:t=>{this.loading=!1,this.showToast("Paquete creado exitosamente","success"),setTimeout(()=>{this.router.navigate(["/menu/biblioteca"])},1500)},error:t=>{this.loading=!1,console.error("Error al crear paquete:",t),this.showToast("Error al crear el paquete","danger")}})}showToast(n,t){this.toastMessage=n,this.toastColor=t,this.isToastOpen=!0}onToastDismiss(){this.isToastOpen=!1}getIdUser(){return parseInt(localStorage.getItem("idUsuario")||"")}};s.\u0275fac=function(t){return new(t||s)(f(q),f(Q),f(X))},s.\u0275cmp=v({type:s,selectors:[["app-crear-paquete"]],decls:28,vars:19,consts:[["paqueteForm","ngForm"],["id","main-content",3,"fullscreen"],[1,"content-container"],[1,"form-container"],[1,"form-header"],[1,"form-icon"],["name","folder-outline"],[3,"ngSubmit"],["position","stacked"],["ngDefaultControl","","name","nombre","placeholder","Ej: Mis beats favoritos","required","","maxlength","100",3,"ngModelChange","ngModel","disabled"],["ngDefaultControl","","name","descripcion","placeholder","Describe tu paquete...","rows","3","maxlength","500",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["expand","block","type","submit",1,"create-button",3,"disabled"],["name","checkmark-outline","slot","start",4,"ngIf"],["expand","block","fill","outline",1,"cancel-button",3,"click","disabled"],["name","close-outline","slot","start"],["position","top",3,"didDismiss","isOpen","message","duration","color"],["name","checkmark-outline","slot","start"]],template:function(t,e){if(t&1){let g=k();o(0,"ion-content",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),b(5,"ion-icon",6),i(),o(6,"h1"),l(7,"Nuevo Paquete"),i(),o(8,"p"),l(9,"Crea un paquete para organizar tus samples favoritos"),i()(),o(10,"form",7,0),_("ngSubmit",function(){return d(g),m(e.crearPaquete())}),o(12,"ion-item")(13,"ion-label",8),l(14,"Nombre del paquete *"),i(),o(15,"ion-input",9),P("ngModelChange",function(c){return d(g),M(e.nombre,c)||(e.nombre=c),m(c)}),i()(),o(16,"ion-item")(17,"ion-label",8),l(18,"Descripci\xF3n (opcional)"),i(),o(19,"ion-textarea",10),P("ngModelChange",function(c){return d(g),M(e.descripcion,c)||(e.descripcion=c),m(c)}),i()(),o(20,"div",11)(21,"ion-button",12),O(22,Y,1,0,"ion-icon",13),l(23),i(),o(24,"ion-button",14),_("click",function(){return d(g),m(e.goBack())}),b(25,"ion-icon",15),l(26," Cancelar "),i()()()()(),o(27,"ion-toast",16),_("didDismiss",function(){return d(g),m(e.onToastDismiss())}),i()()}t&2&&(h("dark-mode",e.darkMode),a("fullscreen",!0),r(12),h("dark-mode",e.darkMode),r(3),C("ngModel",e.nombre),a("disabled",e.loading),r(),h("dark-mode",e.darkMode),r(3),C("ngModel",e.descripcion),a("disabled",e.loading),r(2),a("disabled",!e.nombre.trim()||e.loading),r(),a("ngIf",!e.loading),r(),x(" ",e.loading?"Creando...":"Crear Paquete"," "),r(),a("disabled",e.loading),r(3),a("isOpen",e.isToastOpen)("message",e.toastMessage)("duration",3e3)("color",e.toastColor))},dependencies:[U,W,L,z,R,j,I,w,F,D,y,S,T,B,N,V,E],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--background-color);font-family:Poppins,sans-serif}.content-container[_ngcontent-%COMP%]{padding:20px;max-width:500px;margin:0 auto}.form-container[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:24px;box-shadow:0 4px 15px #0000000d}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--primary-color);display:flex;align-items:center;justify-content:center;margin:0 auto 20px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#fff}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 8px;color:var(--text-color)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--text-muted);margin:0}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--border-color);--color: var(--text-color);margin-bottom:16px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--text-color);font-weight:500}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--color: var(--text-color);--placeholder-color: var(--text-muted)}.form-actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{--background: var(--primary-color);--color: white;height:48px;font-weight:600}.form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--color: var(--text-muted);--border-color: var(--border-color);height:48px}[_nghost-%COMP%]{--background-color: #f5f5f5;--card-background: #ffffff;--text-color: #333333;--text-muted: #666666;--primary-color: #e491b4;--border-color: rgba(0, 0, 0, .1)}.dark-mode[_ngcontent-%COMP%]{--background-color: #121212;--card-background: #1e1e1e;--text-color: #ffffff;--text-muted: #aaaaaa;--border-color: rgba(255, 255, 255, .1)}"]});let u=s;return u})();export{fe as CrearPaquetePage};
