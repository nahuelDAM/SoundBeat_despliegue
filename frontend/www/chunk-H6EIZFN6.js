import{a as ze,b as Ne}from"./chunk-6NBOT5ZW.js";import{a as je}from"./chunk-SKABVRFD.js";import{a as De}from"./chunk-M7BGFAS5.js";import{a as Fe,b as Ae}from"./chunk-KUJJENDQ.js";import{a as Be}from"./chunk-XTSUAW32.js";import"./chunk-5NEJBAS5.js";import{Ab as Z,D as l,Dc as fe,Ea as N,Ec as be,F as P,Fd as Te,H as D,Hb as V,Hd as Ve,Ib as ee,Ja as j,Jb as te,K as f,Kc as xe,M as c,Ma as U,Mb as ie,Mc as ve,N as w,Na as W,Nc as Pe,O as v,Oc as Ce,Pa as Y,Pc as Oe,Q as o,Qb as ne,R as a,Ra as R,S as p,Sa as L,Sb as oe,Sc as Me,Tc as ye,Uc as Se,W as C,Wb as ae,X as h,Xa as $,Xb as re,Y as u,Za as Q,Zb as le,_a as G,aa as E,ba as I,ca as T,ea as m,ec as se,ed as we,fa as O,fc as ce,ga as q,gc as de,hd as qe,ja as M,ka as y,la as S,lc as pe,nd as ke,pc as me,rb as H,rc as ue,sc as ge,t as g,u as _,ua as F,ub as J,va as A,vb as K,vc as _e,wc as he,wd as Ee,ya as z,zb as X,zd as Ie}from"./chunk-5RLBJS7C.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as k,b as B}from"./chunk-RW4GY4BD.js";var We=["editModal"];function Ye(r,d){if(r&1){let i=C();o(0,"div",21)(1,"ion-searchbar",22),S("ngModelChange",function(e){g(i);let t=u();return y(t.searchTerm,e)||(t.searchTerm=e),_(e)}),h("ionInput",function(e){g(i);let t=u();return _(t.onSearchChange(e))}),a()()}if(r&2){let i=u();l(),M("ngModel",i.searchTerm),c("placeholder","Buscar "+(i.segmentValue==="likes"?"favoritos":"paquetes"))("animated",!0)("debounce",300)}}function Re(r,d){r&1&&(o(0,"div",26),p(1,"div",27),o(2,"p"),m(3,"Cargando favoritos..."),a()())}function Le(r,d){r&1&&(o(0,"div",28)(1,"div",29),p(2,"ion-icon",30),a(),o(3,"h3"),m(4,"No tienes favoritos"),a(),o(5,"p"),m(6,"Marca samples como favoritos para verlos aqu\xED"),a()())}function $e(r,d){r&1&&(o(0,"div",28)(1,"div",29),p(2,"ion-icon",33),a(),o(3,"h3"),m(4,"No se encontraron resultados"),a(),o(5,"p"),m(6,"Intenta con otros t\xE9rminos de b\xFAsqueda"),a()())}function Qe(r,d){if(r&1&&(o(0,"span",42),m(1),a()),r&2){let i=u().$implicit;l(),q(" ",i.genero[0].nombre," ")}}function Ge(r,d){if(r&1&&(o(0,"span",55),m(1),a()),r&2){let i=d.$implicit;l(),O(i)}}function He(r,d){if(r&1&&(o(0,"div",53),f(1,Ge,2,1,"span",54),a()),r&2){let i=u().$implicit;l(),c("ngForOf",i.tags.split(","))}}function Je(r,d){if(r&1){let i=C();o(0,"div",34),h("click",function(){let e=g(i).$implicit,t=u(3);return _(t.playSample(e))}),o(1,"div",35),p(2,"div",36),o(3,"div",37),p(4,"ion-icon",38),a()(),o(5,"div",39)(6,"h3",40),m(7),a(),o(8,"div",41)(9,"span",42),p(10,"ion-icon",43),m(11),a(),f(12,Qe,2,1,"span",44),a(),f(13,He,2,1,"div",45),a(),o(14,"div",46)(15,"button",47),h("click",function(e){let t=g(i).$implicit,s=u(3);return _(s.toggleFavorite(e,t))}),p(16,"ion-icon",48),a(),o(17,"button",49),h("click",function(e){let t=g(i).$implicit,s=u(3);return _(s.downloadSample(e,t))}),p(18,"ion-icon",50),a(),o(19,"button",51),h("click",function(e){let t=g(i).$implicit,s=u(3);return _(s.showOptions(e,t))}),p(20,"ion-icon",52),a()()()}if(r&2){let i=d.$implicit,n=d.index,e=u(3);w("animation-delay",n*.05+"s"),v("animate-in",!0),l(),v("playing",(e.playerService.currentSample==null?null:e.playerService.currentSample.id)===i.id),l(),w("background-image","url(/assets/img/sample-placeholder.jpg)"),l(2),c("name",(e.playerService.currentSample==null?null:e.playerService.currentSample.id)===i.id&&e.playerService.isPlaying?"pause":"play"),l(3),O(i.nombre),l(4),q(" ",e.formatDuration(i.duracion)," "),l(),c("ngIf",i.genero&&i.genero.length>0),l(),c("ngIf",i.tags)}}function Ke(r,d){if(r&1&&(o(0,"div",31),f(1,$e,7,0,"div",24)(2,Je,21,13,"div",32),a()),r&2){let i=u(2);l(),c("ngIf",i.filteredSamples.length===0),l(),c("ngForOf",i.filteredSamples)}}function Xe(r,d){if(r&1&&(o(0,"div"),f(1,Re,4,0,"div",23)(2,Le,7,0,"div",24)(3,Ke,3,2,"div",25),a()),r&2){let i=u();l(),c("ngIf",i.loading),l(),c("ngIf",!i.loading&&i.samplesFavoritos.length===0),l(),c("ngIf",!i.loading&&i.samplesFavoritos.length>0)}}function Ze(r,d){r&1&&(o(0,"div",26),p(1,"div",27),o(2,"p"),m(3,"Cargando paquetes..."),a()())}function et(r,d){if(r&1){let i=C();o(0,"div",28)(1,"div",29),p(2,"ion-icon",57),a(),o(3,"h3"),m(4,"A\xFAn no has creado ning\xFAn paquete"),a(),o(5,"p"),m(6,"Crea tu primer paquete para organizar tus samples"),a(),o(7,"ion-button",58),h("click",function(){g(i);let e=u(2);return _(e.crearNuevoPaquete())}),p(8,"ion-icon",59),m(9," Crear mi primer paquete "),a()()}}function tt(r,d){r&1&&(o(0,"div",28)(1,"div",29),p(2,"ion-icon",33),a(),o(3,"h3"),m(4,"No se encontraron paquetes"),a(),o(5,"p"),m(6,"Intenta con otros t\xE9rminos de b\xFAsqueda"),a()())}function it(r,d){if(r&1){let i=C();o(0,"div",63),h("click",function(){let e=g(i).$implicit,t=u(3);return _(t.navigateToPaqueteDetail(e))}),o(1,"div",64),p(2,"ion-icon",57),a(),o(3,"div",65)(4,"h3",66),m(5),a()(),o(6,"div",67)(7,"button",68),h("click",function(e){let t=g(i).$implicit,s=u(3);return _(s.showPaqueteOptions(e,t))}),p(8,"ion-icon",52),a()()()}if(r&2){let i=d.$implicit,n=d.index;w("animation-delay",n*.05+"s"),v("animate-in",!0),l(5),O(i.nombre)}}function nt(r,d){if(r&1&&(o(0,"div",60),f(1,tt,7,0,"div",24),o(2,"div",61),f(3,it,9,5,"div",62),a()()),r&2){let i=u(2);l(),c("ngIf",i.filteredPaquetes.length===0),l(2),c("ngForOf",i.filteredPaquetes)}}function ot(r,d){if(r&1&&(o(0,"div"),f(1,Ze,4,0,"div",23)(2,et,10,0,"div",24)(3,nt,4,2,"div",56),a()),r&2){let i=u();l(),c("ngIf",i.loading),l(),c("ngIf",!i.loading&&i.paquetes.length===0),l(),c("ngIf",!i.loading&&i.paquetes.length>0)}}function at(r,d){if(r&1){let i=C();o(0,"ion-fab",69)(1,"ion-fab-button",70),h("click",function(){g(i);let e=u();return _(e.crearNuevoPaquete())}),p(2,"ion-icon",71),a()()}}function rt(r,d){r&1&&p(0,"ion-icon",102)}function lt(r,d){r&1&&p(0,"div",103)}function st(r,d){if(r&1){let i=C();o(0,"ion-header")(1,"ion-toolbar",72)(2,"ion-title"),m(3,"Editar Paquete"),a(),o(4,"ion-buttons",73)(5,"ion-button",74),h("click",function(){g(i);let e=u();return _(e.cancelarEdicion())}),p(6,"ion-icon",75),a()()()(),o(7,"ion-content",76)(8,"div",77)(9,"div",78)(10,"div",79)(11,"div",80),p(12,"ion-icon",81),a(),p(13,"div",82),a(),o(14,"h1",83),m(15,"Editar Paquete"),a(),o(16,"p",84),m(17),a()(),o(18,"div",85)(19,"form",86,1),h("ngSubmit",function(){g(i);let e=u();return _(e.guardarCambiosPaquete())}),o(21,"div",87)(22,"div",88)(23,"ion-item",89)(24,"ion-label",90),p(25,"ion-icon",91),m(26," Nombre del paquete * "),a(),o(27,"ion-input",92),S("ngModelChange",function(e){g(i);let t=u();return y(t.editNombre,e)||(t.editNombre=e),_(e)}),a()()(),o(28,"div",88)(29,"ion-item",89)(30,"ion-label",90),p(31,"ion-icon",93),m(32," Descripci\xF3n (opcional) "),a(),o(33,"ion-textarea",94),S("ngModelChange",function(e){g(i);let t=u();return y(t.editDescripcion,e)||(t.editDescripcion=e),_(e)}),a()()()(),o(34,"div",95)(35,"ion-button",96)(36,"div",97),f(37,rt,1,0,"ion-icon",98)(38,lt,1,0,"div",99),o(39,"span"),m(40),a()()(),o(41,"ion-button",100),h("click",function(){g(i);let e=u();return _(e.cancelarEdicion())}),p(42,"ion-icon",101),m(43," Cancelar "),a()()()()()()}if(r&2){let i=u();l(),v("dark-mode",i.darkMode),l(6),v("dark-mode",i.darkMode),l(10),q('Personaliza tu paquete "',i.editingPaquete==null?null:i.editingPaquete.nombre,'"'),l(6),v("dark-mode",i.darkMode),l(4),M("ngModel",i.editNombre),c("disabled",i.isUpdating),l(2),v("dark-mode",i.darkMode),l(4),M("ngModel",i.editDescripcion),c("disabled",i.isUpdating),l(2),c("disabled",!i.editNombre.trim()||i.isUpdating),l(2),c("ngIf",!i.isUpdating),l(),c("ngIf",i.isUpdating),l(2),O(i.isUpdating?"Guardando...":"Guardar Cambios"),l(),c("disabled",i.isUpdating)}}var wt=(()=>{let d=class d{constructor(n,e,t,s,b,x,Ue){this.router=n,this.themeService=e,this.playerService=t,this.sampleService=s,this.paqueteService=b,this.animationCtrl=x,this.favoritesStateService=Ue,this.usuarioId=1,this.segmentValue="likes",this.samplesFavoritos=[],this.paquetes=[],this.paqueteSeleccionado=null,this.samplesDelPaquete=[],this.loading=!0,this.loadingPaquete=!1,this.searchTerm="",this.filteredSamples=[],this.filteredPaquetes=[],this.darkMode=!1,this.isActionSheetOpen=!1,this.isAlertOpen=!1,this.selectedSample=null,this.selectedPaquete=null,this.isEditModalOpen=!1,this.editingPaquete=null,this.editNombre="",this.editDescripcion="",this.isUpdating=!1,this.isToastOpen=!1,this.toastMessage="",this.toastColor="success",this.subscriptions=[],this.alertButtonsEliminarPaquete=[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Eliminaci\xF3n de paquete cancelada.")}},{text:"Eliminar",role:"destructive",handler:()=>{this.confirmarEliminarPaquete()}}],_e({heartOutline:Se,searchOutline:Ee,timeOutline:Te,heart:ye,downloadOutline:Ce,ellipsisVerticalOutline:Oe,folderOutline:Me,addOutline:he,closeOutline:xe,createOutline:ve,documentTextOutline:Pe,checkmarkCircleOutline:fe,play:ke,pause:qe,shareOutline:Ie,trashOutline:Ve,musicalNoteOutline:we,checkmarkOutline:be})}ionViewWillEnter(){this.segmentValue==="paquetes"&&this.loadPaquetes()}ngOnInit(){let n=this.themeService.isDarkMode().subscribe(t=>{this.darkMode=t});this.subscriptions.push(n),console.log(this.getIdUser());let e=this.favoritesStateService.favoriteSamples$.subscribe(t=>{this.samplesFavoritos=t,this.filteredSamples=[...this.samplesFavoritos],this.segmentValue==="likes"&&!this.loading&&this.onSearchChange({detail:{value:this.searchTerm}})});this.subscriptions.push(e),this.loadData()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}loadData(){this.loading=!0,this.segmentValue==="likes"?this.loadFavoritos():this.loadPaquetes()}loadFavoritos(){this.loading=!0,this.favoritesStateService.refreshFavorites(),this.loading=!1}loadPaquetes(){let n=this.paqueteService.obtenerPaquetesDelUsuario(this.usuarioId).subscribe({next:e=>{console.log("Paquetes cargados:",e),this.paquetes=e,this.filteredPaquetes=[...this.paquetes],this.paquetes.forEach(t=>{this.paqueteService.obtenerSamplesPorPaquete(t.id).subscribe({next:s=>{t.cantidadSamples=s.length},error:s=>{console.error("Error al cargar samples del paquete:",s)}})}),this.loading=!1},error:e=>{console.error("Error al cargar paquetes:",e),this.loading=!1}});this.subscriptions.push(n)}navigateToPaqueteDetail(n){this.router.navigate(["/menu/biblioteca/paquete",n.id])}doRefresh(n){this.loadData(),setTimeout(()=>{n.target.complete()},1e3)}segmentChanged(n){this.segmentValue=n.detail.value,this.paqueteSeleccionado=null,this.searchTerm="",this.animationCtrl.create().addElement(document.querySelector(".segment-content")).duration(300).fromTo("opacity","0.5","1").play(),this.loadData()}onSearchChange(n){this.searchTerm=n.detail.value.toLowerCase(),this.segmentValue==="likes"?this.filteredSamples=this.samplesFavoritos.filter(e=>e.nombre.toLowerCase().includes(this.searchTerm)||e.tags&&e.tags.toLowerCase().includes(this.searchTerm)):this.filteredPaquetes=this.paquetes.filter(e=>e.nombre.toLowerCase().includes(this.searchTerm))}playSample(n){let e=[];this.segmentValue==="likes"&&(e=this.filteredSamples),this.playerService.playSample(n,e)}toggleFavorite(n,e){n.stopPropagation(),this.favoritesStateService.toggleFavorite(e).subscribe({next:()=>{},error:t=>{console.error("Error al cambiar favorito:",t)}})}isFavorite(n){return this.favoritesStateService.isFavorite(n)}downloadSample(n,e){this.sampleService.descargarSample(e.id).then(()=>console.log("Descarga iniciada")).catch(t=>alert("Hubo un error al descargar el archivo"))}showOptions(n,e){n.stopPropagation(),this.selectedSample=e,this.selectedPaquete=null,this.isActionSheetOpen=!0}showPaqueteOptions(n,e){n.stopPropagation(),this.selectedPaquete=e,this.selectedSample=null,this.isActionSheetOpen=!0}crearNuevoPaquete(){this.router.navigate(["/menu/biblioteca/crear-paquete"])}crearPaqueteConSample(){this.selectedSample&&(this.router.navigate(["/menu/biblioteca/crear-paquete"],{state:{sampleToAdd:this.selectedSample}}),this.isActionSheetOpen=!1)}editarPaquete(){this.selectedPaquete&&(this.editingPaquete=k({},this.selectedPaquete),this.editNombre=this.selectedPaquete.nombre,this.editDescripcion=this.selectedPaquete.descripcion||"",this.isActionSheetOpen=!1,this.isEditModalOpen=!0)}guardarCambiosPaquete(){if(!this.editingPaquete||!this.editNombre.trim()){this.showToast("El nombre del paquete es requerido","danger");return}this.isUpdating=!0;let n=B(k({},this.editingPaquete),{nombre:this.editNombre.trim(),descripcion:this.editDescripcion.trim()||void 0});this.paqueteService.actualizarPaquete(this.editingPaquete.id,n).subscribe({next:e=>{let t=this.paquetes.findIndex(s=>s.id===e.id);t!==-1&&(this.paquetes[t]=e,this.filteredPaquetes=[...this.paquetes]),this.isUpdating=!1,this.isEditModalOpen=!1,this.editingPaquete=null,this.showToast("Paquete actualizado exitosamente","success")},error:e=>{this.isUpdating=!1,console.error("Error al actualizar paquete:",e),this.showToast("Error al actualizar el paquete","danger")}})}cancelarEdicion(){this.isEditModalOpen=!1,this.editingPaquete=null,this.editNombre="",this.editDescripcion=""}eliminarPaquete(){this.selectedPaquete&&(this.isActionSheetOpen=!1,this.isAlertOpen=!0)}confirmarEliminarPaquete(){if(this.selectedPaquete){let n=this.selectedPaquete;this.paqueteService.eliminarPaquete(n.id).subscribe({next:()=>{this.paquetes=this.paquetes.filter(e=>e.id!==n.id),this.filteredPaquetes=this.filteredPaquetes.filter(e=>e.id!==n.id),this.showToast("Paquete eliminado exitosamente","success")},error:e=>{console.error("Error al eliminar paquete:",e),this.showToast("Error al eliminar el paquete","danger")}})}this.isAlertOpen=!1,this.selectedPaquete=null}compartirPaquete(){this.selectedPaquete&&(console.log("Compartir paquete:",this.selectedPaquete),this.showToast("Funcionalidad de compartir pr\xF3ximamente","primary")),this.isActionSheetOpen=!1}onActionSheetDismiss(){this.isActionSheetOpen=!1}onAlertDismiss(){this.isAlertOpen=!1,this.selectedPaquete=null}addToPackage(n){this.selectedSample&&this.paqueteService.agregarSampleAPaquete(n.id,this.selectedSample.id).subscribe({next:()=>{this.showToast(`Sample a\xF1adido al paquete: ${n.nombre}`,"success"),this.isActionSheetOpen=!1,this.selectedSample=null,this.loadPaquetes()},error:e=>{console.error("Error al a\xF1adir sample al paquete:",e),this.showToast("Error al a\xF1adir sample al paquete","danger")}})}showToast(n,e){this.toastMessage=n,this.toastColor=e,this.isToastOpen=!0}onToastDismiss(){this.isToastOpen=!1}get sampleActionSheetButtons(){var e,t;let n=[{text:this.isFavorite(((e=this.selectedSample)==null?void 0:e.id)||0)?"Quitar de favoritos":"A\xF1adir a favoritos",icon:this.isFavorite(((t=this.selectedSample)==null?void 0:t.id)||0)?"heart":"heart-outline",handler:()=>{this.selectedSample&&this.favoritesStateService.toggleFavorite(this.selectedSample).subscribe(),this.selectedSample=null}},{text:"Descargar",icon:"download-outline",handler:()=>{this.selectedSample&&this.downloadSample(new Event("click"),this.selectedSample),this.selectedSample=null}},{text:"Crear nuevo paquete",icon:"add-outline",handler:()=>{this.crearPaqueteConSample()}}];return this.paquetes.forEach(s=>{n.push({text:`A\xF1adir a "${s.nombre}"`,icon:"folder-outline",handler:()=>{this.addToPackage(s)}})}),n.push({text:"Cancelar",role:"cancel",handler:()=>{this.selectedSample=null}}),n}get paqueteActionSheetButtons(){return[{text:"Editar",icon:"create-outline",handler:()=>{this.editarPaquete()}},{text:"Compartir",icon:"share-outline",handler:()=>{this.compartirPaquete()}},{text:"Eliminar",icon:"trash-outline",role:"destructive",handler:()=>{this.eliminarPaquete()}},{text:"Cancelar",role:"cancel",handler:()=>{this.selectedPaquete=null}}]}formatDuration(n){let e=Math.floor(n/60),t=Math.floor(n%60);return`${e}:${t<10?"0":""}${t}`}get mensajeAlertaEliminarPaquete(){var e;return`\xBFEst\xE1s seguro de que quieres eliminar el paquete '${((e=this.selectedPaquete)==null?void 0:e.nombre)||"el paquete seleccionado"}'? Esta acci\xF3n no se puede deshacer.`}getIdUser(){return parseInt(localStorage.getItem("idUsuario")||"")}};d.\u0275fac=function(e){return new(e||d)(P(N),P(Be),P(Ae),P(Fe),P(je),P(pe),P(Ne))},d.\u0275cmp=D({type:d,selectors:[["app-biblioteca"]],viewQuery:function(e,t){if(e&1&&(E(V,5),E(We,5)),e&2){let s;I(s=T())&&(t.content=s.first),I(s=T())&&(t.editModal=s.first)}},decls:32,vars:20,consts:[["editModal",""],["editForm","ngForm"],["id","main-content",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"content-container"],[1,"library-header"],[1,"library-title"],[1,"library-description"],[1,"segment-container"],["color","primary",3,"ngModelChange","ionChange","ngModel"],["value","likes"],["value","paquetes"],["class","search-container",4,"ngIf"],[1,"segment-content"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed","class","fab-with-player",4,"ngIf"],["header","Opciones",3,"didDismiss","isOpen","buttons"],["header","Opciones del paquete",3,"didDismiss","isOpen","buttons"],["header","Confirmar eliminaci\xF3n",3,"didDismiss","isOpen","message","buttons"],[3,"didDismiss","isOpen"],["position","top",3,"didDismiss","isOpen","message","duration","color"],[1,"search-container"],[3,"ngModelChange","ionInput","ngModel","placeholder","animated","debounce"],["class","loader-container",4,"ngIf"],["class","no-results",4,"ngIf"],["class","samples-list",4,"ngIf"],[1,"loader-container"],[1,"loader"],[1,"no-results"],[1,"no-results-icon"],["name","heart-outline"],[1,"samples-list"],["class","sample-card",3,"animate-in","animation-delay","click",4,"ngFor","ngForOf"],["name","search-outline"],[1,"sample-card",3,"click"],[1,"sample-thumbnail"],[1,"thumbnail-image"],[1,"play-overlay"],[3,"name"],[1,"sample-info"],[1,"sample-name"],[1,"sample-details"],[1,"detail-item"],["name","time-outline"],["class","detail-item",4,"ngIf"],["class","sample-tags",4,"ngIf"],[1,"sample-actions"],[1,"action-button","favorite","active",3,"click"],["name","heart"],[1,"action-button","download",3,"click"],["name","download-outline"],[1,"action-button","more",3,"click"],["name","ellipsis-vertical-outline"],[1,"sample-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],["class","paquetes-container",4,"ngIf"],["name","folder-outline"],["expand","block",1,"create-first-package-btn",3,"click"],["name","add-outline","slot","start"],[1,"paquetes-container"],[1,"paquetes-grid"],["class","paquete-card",3,"animate-in","animation-delay","click",4,"ngFor","ngForOf"],[1,"paquete-card",3,"click"],[1,"paquete-icon"],[1,"paquete-info"],[1,"paquete-name"],[1,"paquete-actions"],[1,"action-button","edit",3,"click"],["vertical","bottom","horizontal","end","slot","fixed",1,"fab-with-player"],["color","primary",3,"click"],["name","add-outline"],[1,"modal-toolbar"],["slot","end"],[1,"close-button",3,"click"],["name","close-outline"],[1,"modal-content"],[1,"edit-modal-container"],[1,"modal-header"],[1,"modal-icon-container"],[1,"modal-icon"],["name","create-outline"],[1,"icon-glow"],[1,"modal-title"],[1,"modal-subtitle"],[1,"modal-form"],[3,"ngSubmit"],[1,"input-group"],[1,"input-container"],[1,"modern-input"],["position","stacked",1,"input-label"],["name","folder-outline",1,"label-icon"],["ngDefaultControl","","name","editNombre","placeholder","Ej: Mis beats favoritos","required","","maxlength","100",1,"styled-input",3,"ngModelChange","ngModel","disabled"],["name","document-text-outline",1,"label-icon"],["ngDefaultControl","","name","editDescripcion","placeholder","Describe tu paquete...","rows","3","maxlength","500",1,"styled-textarea",3,"ngModelChange","ngModel","disabled"],[1,"modal-actions"],["expand","block","type","submit",1,"primary-button",3,"disabled"],[1,"button-content"],["name","checkmark-circle-outline",4,"ngIf"],["class","spinner",4,"ngIf"],["expand","block","fill","outline",1,"secondary-button",3,"click","disabled"],["name","close-outline","slot","start"],["name","checkmark-circle-outline"],[1,"spinner"]],template:function(e,t){if(e&1){let s=C();o(0,"ion-header"),p(1,"app-cabecera"),a(),o(2,"ion-content",2)(3,"ion-refresher",3),h("ionRefresh",function(x){return g(s),_(t.doRefresh(x))}),p(4,"ion-refresher-content"),a(),o(5,"div",4)(6,"div",5)(7,"h1",6),m(8,"Mi Biblioteca"),a(),o(9,"p",7),m(10,"Gestiona tus samples favoritos y paquetes personalizados"),a()(),o(11,"div",8)(12,"ion-segment",9),S("ngModelChange",function(x){return g(s),y(t.segmentValue,x)||(t.segmentValue=x),_(x)}),h("ionChange",function(x){return g(s),_(t.segmentChanged(x))}),o(13,"ion-segment-button",10)(14,"ion-label"),m(15,"\u2764\uFE0F Favoritos"),a()(),o(16,"ion-segment-button",11)(17,"ion-label"),m(18,"\u{1F4E6} Mis Paquetes"),a()()()(),f(19,Ye,2,4,"div",12),o(20,"div",13),f(21,Xe,4,3,"div",14)(22,ot,4,3,"div",14),a()(),f(23,at,3,0,"ion-fab",15),o(24,"ion-action-sheet",16),h("didDismiss",function(){return g(s),_(t.onActionSheetDismiss())}),a(),o(25,"ion-action-sheet",17),h("didDismiss",function(){return g(s),_(t.onActionSheetDismiss())}),a(),o(26,"ion-alert",18),h("didDismiss",function(){return g(s),_(t.onAlertDismiss())}),a(),o(27,"ion-modal",19,0),h("didDismiss",function(){return g(s),_(t.cancelarEdicion())}),f(29,st,44,18,"ng-template"),a(),o(30,"ion-toast",20),h("didDismiss",function(){return g(s),_(t.onToastDismiss())}),a()(),p(31,"app-player")}e&2&&(l(2),v("dark-mode",t.darkMode),c("fullscreen",!0),l(10),M("ngModel",t.segmentValue),l(7),c("ngIf",!t.loading&&(t.segmentValue==="likes"&&t.samplesFavoritos.length>0||t.segmentValue==="paquetes"&&t.paquetes.length>0)),l(2),c("ngIf",t.segmentValue==="likes"),l(),c("ngIf",t.segmentValue==="paquetes"),l(),c("ngIf",t.segmentValue==="paquetes"),l(),c("isOpen",t.isActionSheetOpen&&t.selectedSample&&!t.selectedPaquete)("buttons",t.sampleActionSheetButtons),l(),c("isOpen",t.isActionSheetOpen&&t.selectedPaquete&&!t.selectedSample)("buttons",t.paqueteActionSheetButtons),l(),c("isOpen",t.isAlertOpen)("message",t.mensajeAlertaEliminarPaquete)("buttons",t.alertButtonsEliminarPaquete),l(),c("isOpen",t.isEditModalOpen),l(3),c("isOpen",t.isToastOpen)("message",t.toastMessage)("duration",3e3)("color",t.toastColor))},dependencies:[H,Z,se,de,ne,ce,K,J,z,F,A,G,L,j,U,W,$,Q,R,Y,V,ie,ge,le,oe,me,X,ee,te,ae,re,ue,De,ze],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: var(--background-color);font-family:Poppins,sans-serif;transition:all .3s ease}.content-container[_ngcontent-%COMP%]{padding:20px 20px 120px}.library-header[_ngcontent-%COMP%]{margin-bottom:24px}.library-header[_ngcontent-%COMP%]   .library-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:var(--text-color)}.library-header[_ngcontent-%COMP%]   .library-description[_ngcontent-%COMP%]{font-size:16px;color:var(--text-muted);margin:0}.segment-container[_ngcontent-%COMP%]{margin-bottom:20px}.segment-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background: var(--card-background);border-radius:16px;box-shadow:0 2px 8px #0000000d}.segment-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: var(--text-muted);--color-checked: white;--background-checked: var(--primary-color);--indicator-color: transparent;--border-radius: 14px;--padding-top: 8px;--padding-bottom: 8px;font-weight:500}.segment-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]::part(indicator){display:none}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-container[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: var(--card-background);--color: var(--text-color);--placeholder-color: var(--text-muted);--icon-color: var(--text-muted);--border-radius: 16px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .05);padding:0}.segment-content[_ngcontent-%COMP%]{min-height:300px}.samples-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.sample-card[_ngcontent-%COMP%]{display:flex;background:var(--card-background);border-radius:16px;padding:15px;box-shadow:0 4px 15px #0000000d;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.sample-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease forwards;opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.sample-thumbnail[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:12px;overflow:hidden;position:relative;margin-right:15px;flex-shrink:0}.thumbnail-image[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:center;transition:all .3s ease}.play-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#0000004d;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.play-overlay[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sample-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%], .sample-thumbnail.playing[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{opacity:1}.sample-thumbnail.playing[_ngcontent-%COMP%]{box-shadow:0 0 0 2px var(--primary-color)}.sample-thumbnail.playing[_ngcontent-%COMP%]   .thumbnail-image[_ngcontent-%COMP%]{transform:scale(1.05)}.sample-info[_ngcontent-%COMP%]{flex:1;min-width:0}.sample-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color);margin:0 0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sample-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:8px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:13px;color:var(--text-muted)}.detail-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.sample-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.tag[_ngcontent-%COMP%]{background:var(--tag-background);color:var(--tag-color);padding:3px 8px;border-radius:50px;font-size:11px;font-weight:500}.sample-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-left:10px}.action-button[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--action-button-background);color:var(--text-muted);border:none;cursor:pointer;transition:all .2s ease}.action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.action-button[_ngcontent-%COMP%]:hover{background:var(--action-button-hover);color:var(--primary-color)}.action-button.active[_ngcontent-%COMP%]{color:var(--primary-color)}.action-button.favorite.active[_ngcontent-%COMP%], .action-button.remove[_ngcontent-%COMP%]:hover{color:#ff4961}.paquetes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.paquete-card[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:20px;box-shadow:0 4px 15px #0000000d;transition:all .3s ease;cursor:pointer;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative}.paquete-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001a}.paquete-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.paquete-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--primary-color);display:flex;align-items:center;justify-content:center;margin-bottom:16px}.paquete-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff}.paquete-info[_ngcontent-%COMP%]{width:100%}.paquete-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--text-color);margin:0 0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.paquete-count[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}.paquete-actions[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:flex;gap:8px;opacity:0;transition:opacity .3s ease}.paquete-card[_ngcontent-%COMP%]:hover   .paquete-actions[_ngcontent-%COMP%]{opacity:1}.edit-modal-content[_ngcontent-%COMP%]{padding:20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--primary-color);display:flex;align-items:center;justify-content:center;margin:0 auto 16px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0 0 8px;color:var(--text-color)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}.form-actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{--background: var(--primary-color);--color: white;height:48px;font-weight:600}.form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{--color: var(--text-muted);--border-color: var(--border-color);height:48px}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--border-color);--color: var(--text-color);margin-bottom:16px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--text-color);font-weight:500}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--color: var(--text-color);--placeholder-color: var(--text-muted)}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--text-muted);display:flex;flex-direction:column;align-items:center;justify-content:center}.no-results-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--card-background);display:flex;align-items:center;justify-content:center;margin-bottom:15px;box-shadow:0 5px 15px #00000014}.no-results-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--primary-color)}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 8px;color:var(--text-color)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0 0 16px}.create-first-package-btn[_ngcontent-%COMP%]{--background: var(--primary-color);--color: white;margin-top:16px;height:48px;font-weight:600}.loader-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loader[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--loader-color);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loader-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}.fab-with-player[_ngcontent-%COMP%]{bottom:100px!important}[_nghost-%COMP%]{--background-color: #f5f5f5;--card-background: #ffffff;--text-color: #333333;--text-muted: #666666;--input-background: #f0f0f0;--input-placeholder: #9e9e9e;--primary-color: #e491b4;--border-color: rgba(0, 0, 0, .1);--tag-background: #f0f0f0;--tag-color: #666666;--action-button-background: #f5f5f5;--action-button-hover: #eeeeee;--progress-background: #eeeeee;--loader-color: #eeeeee}.dark-mode[_ngcontent-%COMP%]{--background-color: #121212;--card-background: #1e1e1e;--text-color: #ffffff;--text-muted: #aaaaaa;--input-background: #2d2d2d;--input-placeholder: #9e9e9e;--border-color: rgba(255, 255, 255, .1);--tag-background: #2d2d2d;--tag-color: #dddddd;--action-button-background: #2d2d2d;--action-button-hover: #3d3d3d;--progress-background: #2d2d2d;--loader-color: #2d2d2d}@media (min-width: 768px){.samples-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}}@media (min-width: 1024px){.content-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.samples-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.paquetes-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.modal-toolbar[_ngcontent-%COMP%]{--background: var(--card-background);--color: var(--text-color);--border-color: var(--border-color)}.modal-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{--color: var(--text-muted);--background: var(--action-button-background);border-radius:50%;width:40px;height:40px;margin-right:8px}.modal-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{--background: var(--action-button-hover);--color: var(--primary-color)}.modal-content[_ngcontent-%COMP%]{--background: var(--background-color)}.edit-modal-container[_ngcontent-%COMP%]{padding:0;min-height:100%;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#f0a6c6);padding:40px 20px 30px;text-align:center;position:relative;overflow:hidden}.modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%,to{transform:translate(-100%) translateY(-100%) rotate(0)}50%{transform:translate(0) translateY(0) rotate(180deg)}}.modal-icon-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:20px}.modal-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;margin:0 auto;position:relative;z-index:2}.modal-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#fff}.icon-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;border-radius:50%;background:#ffffff4d;filter:blur(20px);animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.5}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.8}}.modal-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3)}.modal-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#ffffffe6;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.3)}.modal-form[_ngcontent-%COMP%]{flex:1;padding:30px 20px;background:var(--background-color)}.input-group[_ngcontent-%COMP%]{margin-bottom:30px}.input-container[_ngcontent-%COMP%]{margin-bottom:20px}.input-container[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modern-input[_ngcontent-%COMP%]{--background: var(--card-background);--border-radius: 16px;--border-color: var(--border-color);--border-width: 2px;--border-style: solid;--padding-start: 0;--padding-end: 0;--inner-padding-start: 16px;--inner-padding-end: 16px;--inner-padding-top: 16px;--inner-padding-bottom: 16px;margin:0;box-shadow:0 4px 12px #0000000d;transition:all .3s ease}.modern-input[_ngcontent-%COMP%]:hover{--border-color: var(--primary-color);box-shadow:0 6px 20px #0000001a}.modern-input.item-has-focus[_ngcontent-%COMP%]{--border-color: var(--primary-color);box-shadow:0 0 0 3px #e491b433}.input-label[_ngcontent-%COMP%]{color:var(--text-color)!important;font-weight:600;font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:8px}.input-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--primary-color)}.styled-input[_ngcontent-%COMP%], .styled-textarea[_ngcontent-%COMP%]{--color: var(--text-color);--placeholder-color: var(--text-muted);font-size:16px;font-weight:500}.styled-textarea[_ngcontent-%COMP%]{min-height:80px;resize:none}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:40px}.primary-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--primary-color), #f0a6c6);--color: white;--border-radius: 16px;height:56px;font-weight:600;font-size:16px;box-shadow:0 4px 12px #e491b44d;transition:all .3s ease}.primary-button[_ngcontent-%COMP%]:hover:not([disabled]){transform:translateY(-2px);box-shadow:0 8px 20px #e491b466}.primary-button[_ngcontent-%COMP%]:active:not([disabled]){transform:translateY(0)}.primary-button[disabled][_ngcontent-%COMP%]{opacity:.6;transform:none}.secondary-button[_ngcontent-%COMP%]{--color: var(--text-muted);--border-color: var(--border-color);--border-radius: 16px;height:48px;font-weight:500;transition:all .3s ease}.secondary-button[_ngcontent-%COMP%]:hover:not([disabled]){--color: var(--primary-color);--border-color: var(--primary-color);transform:translateY(-1px)}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.button-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}.dark-mode[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#d37a9e)}.dark-mode[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{--background: var(--card-background);--border-color: var(--border-color)}.dark-mode[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]:hover{--border-color: var(--primary-color)}ion-modal[_ngcontent-%COMP%]{--backdrop-opacity: .6}ion-modal.modal-entering[_ngcontent-%COMP%]   .edit-modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideIn .4s ease-out}ion-modal.modal-leaving[_ngcontent-%COMP%]   .edit-modal-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s ease-in}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{transform:translateY(0);opacity:1}to{transform:translateY(100%);opacity:0}}']});let r=d;return r})();export{wt as BibliotecaPage};
