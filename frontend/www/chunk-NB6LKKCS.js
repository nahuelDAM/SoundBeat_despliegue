import{a as W}from"./chunk-7RXKWNF4.js";import{a as R}from"./chunk-ASUOXMFU.js";import"./chunk-5NEJBAS5.js";import{Aa as _,Bb as E,F as m,Ga as k,H as s,J as v,Jb as T,La as P,O as u,Oa as x,Pa as O,R as p,Ra as S,S as n,Sb as D,T as i,Ta as I,U as h,Ua as w,Ub as B,Z as b,Za as y,ab as F,bd as L,ga as r,la as f,ma as C,na as M,oc as N,qc as j,rc as z,wc as A,yd as V}from"./chunk-XCE7OHUN.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as c}from"./chunk-RW4GY4BD.js";var at=(()=>{let a=class a{constructor(t,e,o,d,l){this.loginService=t,this.toastController=e,this.loadingController=o,this.router=d,this.themeService=l,this.email="",this.isDarkMode=!1,this.loading=!1,this.subscriptions=[],A({lockOpenOutline:L,sendOutline:V})}ngOnInit(){let t=this.themeService.isDarkMode().subscribe(e=>{this.isDarkMode=e});this.subscriptions.push(t)}solicitarReseteo(){return c(this,null,function*(){if(!this.email||!this.validarEmail(this.email)){this.presentToast("Por favor, introduce un correo electr\xF3nico v\xE1lido.","danger");return}this.loading=!0;let t=yield this.loadingController.create({message:"Enviando solicitud...",spinner:"crescent"});yield t.present(),this.loginService.forgotPassword(this.email).subscribe({next:()=>c(this,null,function*(){yield t.dismiss(),this.loading=!1,yield this.presentToast("Si tu correo est\xE1 registrado, recibir\xE1s un enlace para restablecer tu contrase\xF1a.","success"),this.router.navigate(["/login"])}),error:()=>c(this,null,function*(){yield t.dismiss(),this.loading=!1,yield this.presentToast("Si tu correo est\xE1 registrado, recibir\xE1s un enlace para restablecer tu contrase\xF1a.","success"),this.router.navigate(["/login"])})})})}presentToast(t,e){return c(this,null,function*(){(yield this.toastController.create({message:t,duration:3500,position:"top",color:e,cssClass:this.isDarkMode?"toast-dark":"toast-light"})).present()})}validarEmail(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}login(){this.router.navigate(["/login"])}};a.\u0275fac=function(e){return new(e||a)(s(R),s(j),s(N),s(k),s(W))},a.\u0275cmp=v({type:a,selectors:[["app-forgot-password"]],decls:22,vars:7,consts:[[1,"ion-padding",3,"fullscreen"],[1,"container"],[1,"header-container"],["name","lock-open-outline",1,"header-icon"],[3,"ngSubmit"],["position","stacked"],["type","email","ngDefaultControl","","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit","expand","block",1,"submit-button",3,"disabled"],["name","send-outline","slot","start"],[1,"help-text"],[3,"click"]],template:function(e,o){e&1&&(n(0,"ion-content",0)(1,"div",1)(2,"div",2),h(3,"ion-icon",3),n(4,"h2"),r(5,"\xBFOlvidaste tu contrase\xF1a?"),i(),n(6,"p"),r(7,"Introduce tu correo electr\xF3nico y te enviaremos un enlace para recuperar tu cuenta."),i()(),n(8,"form",4),b("ngSubmit",function(){return o.solicitarReseteo()}),n(9,"ion-item")(10,"ion-label",5),r(11,"Correo Electr\xF3nico"),i(),n(12,"ion-input",6),M("ngModelChange",function(l){return C(o.email,l)||(o.email=l),l}),i()(),n(13,"div",7)(14,"ion-button",8),h(15,"ion-icon",9),r(16," Enviar Enlace "),i()()(),n(17,"div",10)(18,"p"),r(19,"\xBFRecordaste tu contrase\xF1a? "),n(20,"a",11),b("click",function(){return o.login()}),r(21,"Iniciar sesi\xF3n"),i()()()()()),e&2&&(p(o.isDarkMode?"dark-theme":"light-theme"),u("fullscreen",!0),m(9),p(o.isDarkMode?"ion-item-dark":""),m(3),f("ngModel",o.email),m(2),u("disabled",!o.email))},dependencies:[E,B,D,z,T,_,F,w,P,x,O,y,I,S],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:16px;max-width:500px;margin:0 auto}.header-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:8px}.header-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}.header-icon[_ngcontent-%COMP%]{font-size:64px;color:var(--ion-color-primary);margin-bottom:16px}ion-item[_ngcontent-%COMP%]{--border-radius: 8px;--padding-start: 12px;margin-bottom:16px}ion-item.ion-item-dark[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1)}.button-container[_ngcontent-%COMP%]{margin-top:24px}.submit-button[_ngcontent-%COMP%]{height:48px;font-weight:500;--border-radius: 8px;margin-bottom:16px}.help-text[_ngcontent-%COMP%]{text-align:center;margin-top:24px}.help-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.help-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:500}.dark-theme[_ngcontent-%COMP%]{--background: var(--ion-color-dark);--color: var(--ion-color-light)}.dark-theme[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--color: var(--ion-color-light)}.light-theme[_ngcontent-%COMP%]{--background: var(--ion-color-light);--color: var(--ion-color-dark)}.toast-dark[_ngcontent-%COMP%]{--background: var(--ion-color-dark);--color: var(--ion-color-light)}.toast-light[_ngcontent-%COMP%]{--background: var(--ion-color-light);--color: var(--ion-color-dark)}"]});let g=a;return g})();export{at as ForgotPasswordPage};
