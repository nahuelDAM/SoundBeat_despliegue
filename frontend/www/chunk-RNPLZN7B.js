import"./chunk-DESDZRA7.js";import{a as B}from"./chunk-7RXKWNF4.js";import{a as I}from"./chunk-GHRV4RSQ.js";import"./chunk-BNQ67AVA.js";import{$c as U,Aa as h,F as c,Ga as v,H as b,J as d,M as u,Mc as k,O as p,Q as g,S as n,T as t,U as o,Ub as C,Xc as y,Yc as T,_c as w,ab as M,dc as O,ec as _,ga as s,jc as P,rc as x,t as m,wc as S,wd as A,xa as f,xd as E}from"./chunk-XCE7OHUN.js";import"./chunk-CKJMNUPD.js";import"./chunk-B6B5UJKW.js";import"./chunk-ZGM7264U.js";import"./chunk-YKTCUWBK.js";import"./chunk-WS3OVXI4.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-OWSRRI5Z.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function D(r,i){r&1&&(n(0,"ion-tab-button",11)(1,"div",2),o(2,"ion-icon",12),n(3,"ion-label",4),s(4,"Admin"),t(),o(5,"div",5),t()())}var et=(()=>{let i=class i{constructor(e,a){this.themeService=e,this.loginService=a,this.darkMode=!1,this.isUserAdmin=!1,this.router=m(v),S({homeOutline:T,searchOutline:E,libraryOutline:U,cogOutline:k,home:y,library:w,search:A})}getToken(){return localStorage.getItem("token")}ngOnInit(){if(!this.getToken()){this.router.navigate(["/login"]);return}this.themeSubscription=this.themeService.isDarkMode().subscribe(e=>{this.darkMode=e}),this.userSubscription=this.loginService.rolUsario$.subscribe(e=>{console.log("MenuPage: Rol de usuario recibido:",e),this.isUserAdmin=typeof e=="string"&&e.toUpperCase()=="ADMIN",console.log("MenuPage: isUserAdmin actualizado a:",this.isUserAdmin)}),console.log("isUserAdmin en MenuPage:",this.isUserAdmin)}ngOnDestroy(){this.themeSubscription&&this.themeSubscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe()}};i.\u0275fac=function(a){return new(a||i)(b(B),b(I))},i.\u0275cmp=d({type:i,selectors:[["app-menu"]],decls:21,vars:3,consts:[["slot","bottom",1,"custom-tabs"],["tab","inicio",1,"tab-button"],[1,"tab-button-inner"],["name","home-outline",1,"tab-icon"],[1,"tab-label"],[1,"tab-indicator"],["tab","buscador",1,"tab-button"],["name","search-outline",1,"tab-icon"],["tab","biblioteca",1,"tab-button"],["name","library-outline",1,"tab-icon"],["tab","admin","class","tab-button",4,"ngIf"],["tab","admin",1,"tab-button"],["name","cog-outline",1,"tab-icon"]],template:function(a,l){a&1&&(n(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1)(3,"div",2),o(4,"ion-icon",3),n(5,"ion-label",4),s(6,"Inicio"),t(),o(7,"div",5),t()(),n(8,"ion-tab-button",6)(9,"div",2),o(10,"ion-icon",7),n(11,"ion-label",4),s(12,"Buscar"),t(),o(13,"div",5),t()(),n(14,"ion-tab-button",8)(15,"div",2),o(16,"ion-icon",9),n(17,"ion-label",4),s(18,"Biblioteca"),t(),o(19,"div",5),t()(),u(20,D,6,0,"ion-tab-button",10),t()()),a&2&&(c(),g("dark-mode",l.darkMode),c(19),p("ngIf",l.isUserAdmin))},dependencies:[C,_,x,O,P,h,f,M],styles:['@charset "UTF-8";.custom-tabs[_ngcontent-%COMP%]{--background: var(--tab-background);border-top:1px solid var(--tab-border);box-shadow:var(--tab-shadow);padding:5px 0;transition:all .3s ease}.custom-tabs.dark-mode[_ngcontent-%COMP%]{--background: var(--tab-background-dark);border-top:1px solid var(--tab-border-dark);box-shadow:var(--tab-shadow-dark)}.tab-button[_ngcontent-%COMP%]{--color: var(--tab-color);--color-selected: var(--tab-color-selected);position:relative;transition:all .3s ease;overflow:visible}.tab-button-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;position:relative;padding:5px 0}.tab-icon[_ngcontent-%COMP%]{font-size:24px;margin-bottom:4px;transition:all .3s ease}.tab-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;transition:all .3s ease;margin-top:2px}.tab-indicator[_ngcontent-%COMP%]{position:absolute;bottom:-8px;left:50%;transform:translate(-50%) scaleX(0);height:3px;width:20px;background-color:var(--tab-indicator);border-radius:3px;transition:transform .3s ease}.tab-button.tab-selected[_ngcontent-%COMP%]   .tab-indicator[_ngcontent-%COMP%]{transform:translate(-50%) scaleX(1)}.tab-button.tab-selected[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], .tab-button.tab-selected[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{color:var(--tab-color-selected)}.tab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.tab-button.tab-selected[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_tabBounce .4s ease}@keyframes _ngcontent-%COMP%_tabBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.tab-button[_ngcontent-%COMP%]:hover   .tab-icon[_ngcontent-%COMP%]{transform:translateY(-2px)}.tab-button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:5px;height:5px;background:#e491b44d;opacity:0;border-radius:100%;transform:scale(1) translate(-50%);transform-origin:50% 50%}.tab-button[_ngcontent-%COMP%]:active:after{animation:_ngcontent-%COMP%_ripple .8s ease-out}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(0);opacity:.5}20%{transform:scale(25);opacity:.5}to{opacity:0;transform:scale(40)}}']});let r=i;return r})();export{et as MenuPage};
